# 后端 API 文档
## 基础 URL  

http://<服务器IP>:5000

---

## 1. 设置车位状态 

- URL  
  `POST /set_parklot`  
- 请求体  
  ```json
  {
    "mac": "MAC地址", 
    "val" : 0 or 1
  }

  //成功响应(201)
  //错误相应(400 , 404)
  ```

## 2. 查询闸门是否允许开启

- URL  
  `POST /can_open_gate`

- 请求体  
  ```json
  {
    "mac": "MAC地址"
  }
  ```

- 返回值  
  ```json
  {
    "val": 1   // 允许开启闸门
  }
  ```
  或
  ```json
  {
    "val": 0   // 不允许开启闸门
  }
  ```

- 说明  
  - 当对应车位为空或已支付停车费时，返回 `{"val": 1}`，允许开启闸门。
  - 其他情况返回 `{"val": 0}`，不允许开启闸门。

### 查询空闲车位数量

- **URL**  
  `GET /free_count`

- **请求参数**  
  无

- **响应示例**
  ```json
  {
    "free_count": 5
  }
  ```

- **说明**  
  返回当前空闲（val=0）的车位数量。